{% extends "base.html" %}
{% load i18n %}
{% load humanize %}
{% load pagination_tags %}


{% block title %}
| {% trans "Test Results" %}
| {{ test_result }}
{% endblock %}


{% block breadcrumbs %}
<li><a href="{% url dashboard_app.views.bundle_stream_list %}">{% trans "Bundle Streams" %}</a></li>
<li><a href="{{ test_result.test_run.bundle.bundle_stream.get_absolute_url }}">{{ test_result.test_run.bundle.bundle_stream }}</a></li>
<li><a href="{{ test_result.test_run.get_absolute_url }}">{{ test_result.test_run }}</a></li>
<li><a href="{{ test_result.get_absolute_url }}">{{ test_result }}</a></li>
{% endblock %}


{% block sidebar %}
<dl>
  <dt>{% trans "Test Name" %}</dt>
  <dd>{{ test_result.test_run.test }}</dd>
  <dt>{% trans "Test case" %}</dt>
  <dd>{{ test_result.test_case }}</dd>
  <dt>{% trans "Log file name" %}</dt>
  <dd>{{ test_result.filename }}</dd>
  <dt>{% trans "Line no." %}</dt>
  <dd>{{ test_result.lineno }}</dd>
  <dt>{% trans "Test executed at" %}</dt>
  <dd>
  {{ test_result.timestamp|naturalday }}
  {{ test_result.timestamp|time }}
  </dd>
  <dt>{% trans "Time taken to execute test" %}</dt>
  <dd>{{ test_result.duration }}</dd>
</dl>
{% endblock %}


{% block content %}
{% if test_result.attributes.values %}
<h2>{% trans "Test log [" %}{{ test_result.filename }}{% trans "] Details:" %}</h2>
<p>{{ test_result.message }}</p>
  <table class="data">
      <tr><th colspan="4">{% trans "Test Result attribute information" %}</th></tr>
      <tr>
      <th>{% trans "Id" %}</th>
      <th>{% trans "Content Type Id" %}</th>
      <th>{% trans "Attribute Name" %}</th>
      <th>{% trans "Attribute Value" %}</th>
      </tr>
      {% for item in test_result.attributes.values %}
      <tr>
        <td width="1%">{{ item.id }}</td>
        <td width="1%">{{ item.content_type_id }}</td>
        <td width="1%">{{ item.name }}</td>
        <td width="1%">{{ item.value }}</td>
      </tr>
     {% endfor %}
  </table>
{% else %}
  {%trans "There are no attributes listed for " %}{{ test_result }}
{% endif %}
{% endblock %}
