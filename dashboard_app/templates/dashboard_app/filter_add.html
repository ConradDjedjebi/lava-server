{% extends "dashboard_app/_content.html" %}
{% load i18n %}
{% load django_tables2 %}

{% block extrahead %}
<link rel="stylesheet" type="text/css" href="/static/admin/css/widgets.css" />
{{ block.super }}
<style type="text/css">
div.selector span.helptext { display: none; }
div.selector h2 { margin: 0; font-size: 11pt; }
div.selector a { text-decoration: none; }
div.selector select { height: 10em; }
div.selector ul.selector-chooser { margin-top: 5.5em; }
div.selector .selector-chosen select {
  border: 1px solid rgb(204, 204, 204);
  border-top: none;
}
</style>
<script type="text/javascript" src="/admin/jsi18n/"></script>
<script type="text/javascript">
var django = {};
django.jQuery = $;
</script>
{{ form.media }}
{% endblock %}

{% block content %}
<h1>Add new filterâ€¦</h1>

<form action="" method="post">
    {% csrf_token %}
    <p>
      A filter matches test runs by a number of criteria.
    </p>
    <dl>
      <dt>
        {{ form.name.label_tag }}:
      </dt>
      <dd>
        {{ form.name }}
        <br /><span class="helptext">{{ form.name.help_text|safe }}</span>
      </dd>
      <dt>
        {{ form.bundle_streams.label_tag }}:
      </dt>
      <dd>
        <div>{{ form.bundle_streams }}</div>
        <div style="clear:left">{{ form.bundle_streams.help_text|safe }}</div>
      </dd>
      <dt>
        Test and test case:
      </dt>
      <dd>
        {{ form.test }} <select id="id_test_case" disabled="disabled"><option>&lt;any&gt;</option></select>
        <br />
        <span class="helptext">
          A filter can optionally be restricted to a particular <b>test</b>, or even a <b>test case</b>
          within a test.
        </span>
      </dd>
      <dt>
        {{ form.notification_level.label_tag }}:
      </dt>
      <dd>
        {{ form.notification_level }}
        <br /><span class="helptext">{{ form.notification_level.help_text|safe }}</span>
      </dd>
    </dl>
    <input type="submit" value="Preview">
</form>

<script type="text/javascript">
$("#id_test").change(function (e) { console.log($("#id_test option:selected").html()); });
</script>

{% endblock %}
