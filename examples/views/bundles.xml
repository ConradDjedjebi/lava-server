<data-view name="bundles">
    <sql backend="sqlite">
        SELECT
            content_sha1 AS SHA1,
            content_filename AS "File Name",
            uploaded_on As "Uploaded On",
            ifnull(username, "(Anonymous)") AS "Uploaded By",
            is_deserialized AS "Deserialized?",
            error_message AS "Deserialization Error"
        FROM
            dashboard_app_bundle
            JOIN dashboard_app_bundlestream ON dashboard_app_bundle.bundle_stream_id = dashboard_app_bundlestream.id
            LEFT OUTER JOIN auth_user ON dashboard_app_bundle.uploaded_by_id = auth_user.id
            LEFT OUTER JOIN dashboard_app_bundledeserializationerror ON dashboard_app_bundle.id = dashboard_app_bundledeserializationerror.bundle_id
        WHERE
             dashboard_app_bundlestream.pathname = <value name="pathname"/>
        ORDER BY
             <value name="order"/>
    </sql>
    <arguments>
        <argument name="order" default="uploaded_on" type="string" help="sorting column"/>
        <argument name="pathname" default="/anonymous/" type="string" help="Pathname of the bundle stream to list"/>
    </arguments>
    <summary>
        List of bundles
    </summary>
    <documentation>
        Re-implementation of the `lc-tool bundles` query with data-views
    </documentation>
</data-view>
