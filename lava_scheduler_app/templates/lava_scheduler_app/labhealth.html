{% extends "lava_scheduler_app/_content.html" %}


{% block content %}
<h2>Lab Health</h2>

<table class="data display">
  <thead>
    <tr>
      <th class="device">Device</th>
      <th>Health</th>
      <th>Last Report Time</th>
      <th>Last Report Job</th>
    </tr>
  </thead>
  <tbody>
    {% for devicehealth in labhealth %}
    <tr>
      <td><a href="{{ devicehealth.device.get_absolute_url }}">{{ devicehealth.device }} </a></td>
      <td>{{ devicehealth.get_status_display }}</td>
      <td>{{ devicehealth.get_last_report_time_display }}</td>
      <td><a href="{{ devicehealth.last_report_job.get_absolute_url }}">{{ devicehealth.last_report_job.id }}_</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<script>
$(document).ready(
  function() {
    $("table.data").dataTable({
      "bJQueryUI": true,
      "aoColumnDefs": [
        { "sType": "num-html", "aTargets": [ "device" ] }
      ],
      "aaSorting": [[0, "desc"]],
      "iDisplayLength": 25
    });
  }
);
</script>

{% endblock %}
