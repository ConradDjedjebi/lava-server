{% extends "layouts/content.html" %}

{% block extrahead %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}lava-server/css/demo_table_jui.css"/>
<script type="text/javascript" src="{{ STATIC_URL }}dashboard_app/js/FixedHeader.min.js"></script> 
<script type="text/javascript" src="{{ STATIC_URL }}lava-server/js/jquery.dataTables.min.js"></script> 
{% endblock %}


{% block breadcrumbs %}
{{ block.super }}
<li><a href="{% url lava_scheduler_app.views.index %}">Scheduler</a></li>
{% endblock %}


{% block content %}
<h2>Devices</h2>

<table class="demo_jui display data">
  <thead>
    <tr>
      <th>Type</th>
      <th>Hostname</th>
    <th>Status</th>
    </tr>
  </thead>
  <tbody>
    {% for device in devices %}
    <tr>
      <td>{{ device.device_type }}</td>
      <td>{{ device.hostname }}</td>
      <td>{{ device.get_status_display }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<h2>Active Jobs</h2>

<table class="demo_jui display data">
  <thead>
    <tr>
      <th>ID</th>
      <th>Status</th>
      <th>Target</th>
      <th>Submitter</th>
      <th>Submit Time</th>
    </tr>
  </thead>
  <tbody>
    {% for job in jobs %}
    <tr>
      <td>{{ job.id }}</td>
      <td>{{ job.get_status_display }}</td>
      <td>{{ job.target }}</td>
      <td>{{ job.submitter }}</td>
      <td>{{ job.submit_time }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<a href="{% url lava_scheduler_app.views.alljobs %}">All jobs</a>

<script>$(document).ready(function() { $("table.data").dataTable() }); </script>

{% endblock %}
